<%-include("navbar.ejs")%>

 <!-- -------------Hero section--------- -->
 <section class="hero-section">
<div id="heroSlider" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000">

  <!-- Indicators -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#heroSlider" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#heroSlider" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#heroSlider" data-bs-slide-to="2"></button>
  </div>

  <!-- Slides -->
  <div class="carousel-inner">

    <!-- Slide 1 -->
    <div class="carousel-item active" style="background-image: linear-gradient(to right, #ff6a00, #ee0979);">
      <div class="bubbles">
        <div class="bubble red" style="width: 25px; height: 25px; left: 5%; animation-delay: 0s;"></div>
        <div class="bubble blue" style="width: 30px; height: 30px; left: 25%; animation-delay: 1s;"></div>
        <div class="bubble green" style="width: 20px; height: 20px; left: 45%; animation-delay: 2s;"></div>
        <div class="bubble yellow" style="width: 35px; height: 35px; left: 65%; animation-delay: 3s;"></div>
        <div class="bubble purple" style="width: 28px; height: 28px; left: 85%; animation-delay: 4s;"></div>
      </div>
      <div class="carousel-caption">
        <h1><%=heroData[0].name1%></h1>
        <p><%=heroData[0].subname1%></p>
        <a href="<%=heroData[0].buttonpath1%>" class="btn"><%=heroData[0].buttonname1%></a>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item" style="background-image: linear-gradient(to right, #36d1dc, #5b86e5);">
      <div class="bubbles">
        <div class="bubble red" style="width: 24px; height: 24px; left: 10%; animation-delay: 1s;"></div>
        <div class="bubble green" style="width: 32px; height: 32px; left: 35%; animation-delay: 2s;"></div>
        <div class="bubble yellow" style="width: 50px; height: 50px; left: 55%; animation-delay: 3s;"></div>
        <div class="bubble blue" style="width: 30px; height: 30px; left: 75%; animation-delay: 1.5s;"></div>
      </div>
      <div class="carousel-caption">
        <h1><%=heroData[0].name2%></h1>
        <p><%=heroData[0].subname2%></p>
        <a href="<%=heroData[0].buttonpath2%>" class="btn"><%=heroData[0].buttonname2%></a>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-item" style="background-image: linear-gradient(to right, #11998e, #38ef7d);">
      <div class="bubbles">
        <div class="bubble purple" style="width: 22px; height: 22px; left: 15%; animation-delay: 0.5s;"></div>
        <div class="bubble blue" style="width: 35px; height: 35px; left: 40%; animation-delay: 1.8s;"></div>
        <div class="bubble yellow" style="width: 30px; height: 30px; left: 65%; animation-delay: 2.5s;"></div>
        <div class="bubble green" style="width: 25px; height: 25px; left: 85%; animation-delay: 3.2s;"></div>
      </div>
      <div class="carousel-caption">
        <h1><%=heroData[0].name3%></h1>
        <p><%=heroData[0].subname3%></p>
        <a href="<%=heroData[0].buttonpath3%>" class="btn"><%=heroData[0].buttonname3%></a>
      </div>
    </div>

  </div>

  <!-- Controls -->
  <button class="carousel-control-prev" type="button" data-bs-target="#heroSlider" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroSlider" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>
</section>

<!-- ✅ Cards Section with Background -->
<section id="shop" class="py-5 bg-light position-relative">
  
  <!-- Background Overlay -->
  <div class="section-bg"></div>

  <!-- ✅ Latest Cards -->
  <div class="container text-center position-relative">
    <h2 class="mb-4 text-dark fw-bold">Latest Cards</h2>
    <div class="row g-4">
      <% for(let card = 0; card < 4; card++){ %>
        <div class="col-md-3 col-sm-6 mt-5">
          <div class="card-wrapper position-relative bg-white shadow-lg rounded-4">
            <div class="ribbon"><%= filesData[card].file_dis %>% OFF</div>
            <div class="badge-number">#00<%= filesData[card].file_id %></div>
            <a href="/process_card/<%= filesData[card].file_id %>">
              <div class="card-image">
                <img src="/admin/uploads/<%= filesData[card].file_img %>">
              </div>
            </a>
            <div class="card-body">
              <div class="card-title">
                <%= filesData[card].design_name %> #00<%= filesData[card].file_id %>
              </div>
              <div class="price-section">
                <span class="old-price">₹<%= filesData[card].file_price %>.00</span>
                <span class="new-price">₹<%= filesData[card].final_price %>.00</span>
              </div>
              <div class="status <%= filesData[card].stock === 'instock' ? 'text-success' : 'text-danger' %>">
                <%= filesData[card].stock === 'instock' ? 'In Stock' : 'Out of Stock' %>
              </div>
              <div class="card-icons">
                <div class="icon-group">
                  <i class="bi bi-eye-fill"></i> <span><%= filesData[card].file_view %></span>
                  <i class="bi bi-download"></i> <span><%= filesData[card].file_perchesed %></span>
                </div>
                <div class="icon-action">
                  <a href="/process_card/<%= filesData[card].file_id %>">
                    <i class="bi bi-cart-fill" data-bs-toggle="tooltip" title="Add to Cart"></i>
                  </a>
                </div>
                <div class="dropdown text-warning">
                  <i class="bi bi-share-fill" data-bs-toggle="dropdown" aria-expanded="false" style="cursor:pointer;"></i>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#" onclick="copyLink('<%= filesData[card].file_id %>')"><i class="bi bi-link-45deg"></i> Copy Link</a></li>
                    <li><a class="dropdown-item" target="_blank" href="https://wa.me/?text=<%= encodeURIComponent('Check this design: ' + 'http://yourwebsite.com/process_card/' + filesData[card].file_id) %>"><i class="bi bi-whatsapp"></i> WhatsApp</a></li>
                    <li><a class="dropdown-item" target="_blank" href="https://www.instagram.com/?url=<%= encodeURIComponent('http://yourwebsite.com/process_card/' + filesData[card].file_id) %>"><i class="bi bi-instagram"></i> Instagram</a></li>
                    <li><a class="dropdown-item" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=<%= encodeURIComponent('http://yourwebsite.com/process_card/' + filesData[card].file_id) %>"><i class="bi bi-facebook"></i> Facebook</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% } %>
    </div>
    
  </div>

  <!-- ✅ Trending Cards -->
  <div class="container text-center position-relative mt-5">
    <h2 class="mb-4 text-dark fw-bold">Trending Cards</h2>
    <div class="row g-4">
      <% for(let card = 0; card < mostPerchese.length; card++){ %>
        <div class="col-md-3 col-sm-6 mt-5">
          <div class="card-wrapper position-relative bg-white shadow-lg rounded-4">
            <div class="ribbon"><%= mostPerchese[card].file_dis %>% OFF</div>
            <div class="badge-number">#00<%= mostPerchese[card].file_id %></div>
            <a href="/process_card/<%= mostPerchese[card].file_id %>">
              <div class="card-image">
                <img src="/admin/uploads/<%= mostPerchese[card].file_img %>">
              </div>
            </a>
            <div class="card-body">
              <div class="card-title">
                <%= mostPerchese[card].design_name %> #00<%= mostPerchese[card].file_id %>
              </div>
              <div class="price-section">
                <span class="old-price">₹<%= mostPerchese[card].file_price %>.00</span>
                <span class="new-price">₹<%= mostPerchese[card].final_price %>.00</span>
              </div>
              <div class="status <%= mostPerchese[card].stock === 'instock' ? 'text-success' : 'text-danger' %>">
                <%= mostPerchese[card].stock === 'instock' ? 'In Stock' : 'Out of Stock' %>
              </div>
              <div class="card-icons">
                <div class="icon-group">
                  <i class="bi bi-eye-fill"></i> <span><%= mostPerchese[card].file_view %></span>
                  <i class="bi bi-download"></i> <span><%= mostPerchese[card].file_perchesed %></span>
                </div>
                <div class="icon-action">
                  <a href="/process_card/<%= mostPerchese[card].file_id %>">
                    <i class="bi bi-cart-fill" data-bs-toggle="tooltip" title="Add to Cart"></i>
                  </a>
                </div>
                <div class="dropdown text-warning">
                  <i class="bi bi-share-fill" data-bs-toggle="dropdown" aria-expanded="false" style="cursor:pointer;"></i>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#" onclick="copyLink('<%= mostPerchese[card].file_id %>')"><i class="bi bi-link-45deg"></i> Copy Link</a></li>
                    <li><a class="dropdown-item" target="_blank" href="https://wa.me/?text=<%= encodeURIComponent('Check this design: ' + 'http://yourwebsite.com/process_card/' + mostPerchese[card].file_id) %>"><i class="bi bi-whatsapp"></i> WhatsApp</a></li>
                    <li><a class="dropdown-item" target="_blank" href="https://www.instagram.com/?url=<%= encodeURIComponent('http://yourwebsite.com/process_card/' + mostPerchese[card].file_id) %>"><i class="bi bi-instagram"></i> Instagram</a></li>
                    <li><a class="dropdown-item" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=<%= encodeURIComponent('http://yourwebsite.com/process_card/' + mostPerchese[card].file_id) %>"><i class="bi bi-facebook"></i> Facebook</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% } %>
    </div>
  </div>
</section>

<script>
  function copyLink(fileId) {
    const link = `${window.location.origin}/process_card/${fileId}`;
    navigator.clipboard.writeText(link).then(() => {
      alert("Link copied to clipboard!");
    });
  }
</script>


<style>
  /* Background overlay with gradient + pattern */
  #shop {
    background: linear-gradient(135deg, #f9fafc, #eef2f7);
    position: relative;
    overflow: hidden;
  }
  #shop .section-bg {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url("https://www.toptal.com/designers/subtlepatterns/patterns/double-bubble-outline.png");
    opacity: 0.08;
    z-index: 0;
  }
  #shop .container {
    position: relative;
    z-index: 1;
  }
  .card-wrapper {
    transition: transform 0.3s ease-in-out;
  }
  .card-wrapper:hover {
    transform: translateY(-8px);
  }
</style>


  <!-- Bootstrap JS -->
  <script>
    // Search toggle function (already included in your navbar)
    function toggleSearchBox() {
      const box = document.getElementById("searchBox");
      box.classList.toggle("active");
      if (box.classList.contains("active")) {
        box.querySelector("input").focus();
      }
    }
  </script>


<%-include("footer.ejs")%>